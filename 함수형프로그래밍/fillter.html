<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fillter 메소드</title>
</head>
<body>
  <script>
    class Users{
      constructor(){
        this.users = [
          {id: 1, name: 'Lee'},
          {id: 2, name: 'Kim'}
        ]
      }

      //요소 추출
      findById(id){
        //id가 일치하는 사용자만 반환한다.
        return this.users.filter(user => user.id === id);
      }
      //요소를 제거하는 메소드
      remove(id){
        //id가 일치하지 않는 사용자를 제거
        this.users = this.users.filter(user => user.id !== id)
      }
    }

    const users = new Users();
    let user = users.findById(1);
    console.log(user)

    //id가 1인 사용자를 제거
    users.remove(1);

    user = users.findById(1);
    console.log(user) //이전에 요소가 삭제되었기 때문에 빈 배열이 출력된다.

    //중복요소 제거
    const values = [1, 2, 1, 3, 5, 4, 5, 3, 4, 4];
    console.log(values)

    //현재 순회중인 요소의 인덱스 i가 val의 인덱스와 같다면 val은 처음 순회하는 요소다. 이 요소만 필터링한다.
    const result = values.filter((val, i, _values) => _values.indexOf(val) === i)
    console.log("중복요소 제거" + result) //[1, 2, 3, 5, 4] 출력
    console.log(result) //[1, 2, 3, 5, 4] 출력

    //중복되지 않는 유일한 값들의 집합인 Set을 사용할 수도 있다.(이 방법 추천)
    
    const result2 = [...new Set(values)]
    //[...new Set(values)] = values배열 값에서 중복되지 않는 유일한 값을 추출하여 배열로 반환
    console.log(result2)

  </script>
</body>
</html>